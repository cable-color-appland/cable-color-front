<div class="container-component">
    <hr />
    <mat-card>
        <mat-card-header>
            <mat-card-title>
                {{config.i18n.title}}
            </mat-card-title>
        </mat-card-header>
    </mat-card>
    <mat-divider></mat-divider>
    <mat-card>
        <mat-stepper orientation="vertical" [linear]="isLinear" #stepper>
            <mat-step [stepControl]="firstFormGroup">
                <form [formGroup]="firstFormGroup"   class="requirement-form" >
                    <ng-template matStepLabel>{{config.i18n.titleStep1}}</ng-template>
                    <mat-form-field  class="requirement-full-width" >
                        <mat-label>{{config.i18n.typeRequest}}</mat-label>
                        <mat-select formControlName="typeRequestId" required  name="TypeRequest" >
                            <mat-option *ngFor="let typeRequest of typeRequests" [value]="typeRequest.id" >{{typeRequest.name}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <div>
                        <button mat-raised-button color="primary" matStepperNext>{{config.i18n.nextButton}}</button>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="secondFormGroup">
                <form [formGroup]="secondFormGroup" class="requirement-form" >
                    <ng-template matStepLabel>{{config.i18n.titleStep2}}</ng-template>
                    <hr>
                    <mat-divider></mat-divider>
                    <!-- Input start client -->
                    <div class="col-12">
                        <mat-form-field class="requirement-full-width" >
                            <mat-label>{{config.i18n.clientText}}</mat-label>
                            <input matInput formControlName="client" placeholder="{{config.i18n.clientPlaceholder}}" required>
                            <mat-hint align="end">{{ secondFormGroup.controls.client.value?.length || 0 }}/50</mat-hint>
                            <mat-error *ngIf="secondFormGroup.controls.client.hasError('maxlength')">
                              {{config.i18n.maximumCharacters}} 50
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <!-- Input end -->

                    <!-- Input start place -->
                    <div class="col-12">
                        <mat-form-field class="requirement-full-width"  >
                            <mat-label>{{config.i18n.placeText}}</mat-label>
                            <input matInput formControlName="place" placeholder="{{config.i18n.placePlaceholder}}" required>
                            <mat-hint align="end">{{ secondFormGroup.controls.place.value?.length || 0 }}/50</mat-hint>
                            <mat-error *ngIf="secondFormGroup.controls.place.hasError('maxlength')">
                              {{config.i18n.maximumCharacters}} 50
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <!-- Input end -->

                    <!-- Input start description -->
                    <div class="col-12">
                        <mat-form-field  class="requirement-full-width" >
                            <mat-label>{{config.i18n.descriptionText}}</mat-label>
                            <textarea matInput formControlName="description" placeholder="{{config.i18n.descriptionPlaceholder}}" required></textarea>
                            <mat-hint align="end">{{ secondFormGroup.controls.description.value?.length || 0 }}/100</mat-hint>
                            <mat-error *ngIf="secondFormGroup.controls.description.hasError('maxlength')">
                                {{config.i18n.maximumCharacters}} 100
                              </mat-error>
                        </mat-form-field>
                    </div>
                    <!-- Input end -->

                    <!-- Input start contact -->
                    <div class="col-12">
                        <mat-form-field  class="requirement-full-width" >
                            <mat-label>{{config.i18n.contactText}}</mat-label>
                            <textarea matInput formControlName="contacts" placeholder="{{config.i18n.contactPlaceholder}}" required></textarea>
                            <mat-hint align="end">{{ secondFormGroup.controls.contacts.value?.length || 0 }}/100</mat-hint>
                            <mat-error *ngIf="secondFormGroup.controls.contacts.hasError('maxlength')">
                                {{config.i18n.maximumCharacters}} 100
                              </mat-error>
                        </mat-form-field>
                    </div>
                    <!-- Input end -->


                    <!-- Input start priority -->
                    <div class="col-12">
                        <mat-form-field   class="requirement-full-width" >
                            <mat-label>{{config.i18n.priorityText}}</mat-label>
                            <mat-select formControlName="priorityId"  placeholder="{{config.i18n.priorityPlaceholder}}" required  name="Priority">
                                <mat-option *ngFor="let priority of priorities" [value]="priority.id" >{{priority.name}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                    </div>
                    <!-- Input end -->

                    <div>
                        <button mat-button matStepperPrevious>{{config.i18n.backButton}}</button>
                        <button mat-raised-button color="primary" matStepperNext>{{config.i18n.nextButton}}</button>
                    </div>
                </form>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>{{config.i18n.titleStep3}}</ng-template>
                <div class="col-12">
                    <button class="secondary-button" (click)="validateData()">{{config.i18n.saveButton}}</button>
                </div>
                <div class="col-12" >
                    <button mat-button matStepperPrevious>{{config.i18n.backButton}}</button>
                    <button mat-raised-button color="primary" (click)="stepper.reset()">{{config.i18n.resetButton}}</button>
                </div>
            </mat-step>
        </mat-stepper>
    </mat-card>
    <div class="col-12">
        <mat-divider></mat-divider>
        <mat-card>
            <a mat-raised-button color="primary" routerLink="/home">{{ config.i18n.cancelButton }}</a>
        </mat-card>
    </div>
</div>